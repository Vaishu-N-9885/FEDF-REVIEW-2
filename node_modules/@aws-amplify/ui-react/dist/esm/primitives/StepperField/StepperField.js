import{__rest as e}from"tslib";import*as t from"react";import i from"classnames";import{useStepper as a}from"./useStepper.js";import"../Field/FieldClearButton.js";import{FieldDescription as r}from"../Field/FieldDescription.js";import{FieldErrorMessage as s}from"../Field/FieldErrorMessage.js";import{FieldGroup as o}from"../FieldGroup/FieldGroup.js";import"../FieldGroupIcon/FieldGroupIcon.js";import{FieldGroupIconButton as l}from"../FieldGroupIcon/FieldGroupIconButton.js";import{Flex as n}from"../Flex/Flex.js";import{IconAdd as d}from"../Icon/icons/IconAdd.js";import{ComponentClassNames as p,ComponentText as c}from"../shared/constants.js";import"../View/View.js";import{IconRemove as m}from"../Icon/icons/IconRemove.js";import{Input as u}from"../Input/Input.js";import{Label as b}from"../Label/Label.js";import{classNameModifier as h,classNameModifierByFlag as f}from"../shared/utils.js";import{splitPrimitiveProps as F}from"../shared/styleUtils.js";import{useStableId as g}from"../utils/useStableId.js";const I="decrease-icon",S="increase-icon",j=t.forwardRef(((I,S)=>{const{className:j,descriptiveText:B,defaultValue:v,errorMessage:E,hasError:D=!1,id:y,isDisabled:C,isReadOnly:L,isRequired:O,increaseButtonLabel:R=c.StepperField.increaseButtonLabel,decreaseButtonLabel:x=c.StepperField.decreaseButtonLabel,label:N,labelHidden:w=!1,onStepChange:z,size:G,variation:V,testId:H,alignSelf:M,bottom:$,height:q,left:T,padding:k,position:P,right:W,top:A,width:U,value:J}=I,K=e(I,["className","descriptiveText","defaultValue","errorMessage","hasError","id","isDisabled","isReadOnly","isRequired","increaseButtonLabel","decreaseButtonLabel","label","labelHidden","onStepChange","size","variation","testId","alignSelf","bottom","height","left","padding","position","right","top","width","value"]),Q=g(y),X=g(),Y=B?X:void 0,{baseStyleProps:Z,flexContainerStyleProps:_,rest:ee}=F(K),{step:te,value:ie,inputValue:ae,handleDecrease:re,handleIncrease:se,handleOnBlur:oe,handleOnChange:le,handleOnWheel:ne,setInputValue:de,shouldDisableDecreaseButton:pe,shouldDisableIncreaseButton:ce}=a(I);return t.useEffect((()=>{void 0!==J&&de(J)}),[J,de]),t.createElement(n,Object.assign({alignSelf:M,className:i(p.Field,h(p.Field,G),p.StepperField,j),"data-size":G,"data-variation":V,testId:H,width:U,height:q,position:P,padding:k,top:A,right:W,left:T,bottom:$},_),t.createElement(b,{htmlFor:Q,visuallyHidden:w},N),t.createElement(r,{id:X,labelHidden:w,descriptiveText:B}),t.createElement(o,{outerStartComponent:t.createElement(l,{"aria-controls":Q,ariaLabel:`${x} ${ie-te}`,className:i(p.StepperFieldButtonDecrease,h(p.StepperFieldButtonDecrease,V),f(p.StepperFieldButtonDecrease,"disabled",pe)),"data-invalid":D,isDisabled:pe,onClick:re,size:G},t.createElement(m,{"data-testid":"decrease-icon"})),outerEndComponent:t.createElement(l,{"aria-controls":Q,ariaLabel:`${R} ${ie+te}`,className:i(p.StepperFieldButtonIncrease,h(p.StepperFieldButtonIncrease,V),f(p.StepperFieldButtonIncrease,"disabled",ce)),"data-invalid":D,isDisabled:ce,onClick:se,size:G},t.createElement(d,{"data-testid":"increase-icon"}))},t.createElement(u,Object.assign({"aria-describedby":Y,className:p.StepperFieldInput,hasError:D,id:Q,isDisabled:C,isReadOnly:L,isRequired:O,onBlur:oe,onChange:le,onWheel:ne,ref:S,size:G,variation:V,type:"number",value:ae},Z,ee))),t.createElement(s,{hasError:D,errorMessage:E}))}));j.displayName="StepperField";export{I as DECREASE_ICON,S as INCREASE_ICON,j as StepperField};
