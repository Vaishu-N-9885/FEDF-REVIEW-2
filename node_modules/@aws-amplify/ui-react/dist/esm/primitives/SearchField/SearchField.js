import{__rest as e}from"tslib";import o from"classnames";import*as a from"react";import{FieldClearButton as n}from"../Field/FieldClearButton.js";import"../Field/FieldDescription.js";import"../Field/FieldErrorMessage.js";import{FieldGroupIcon as r}from"../FieldGroupIcon/FieldGroupIcon.js";import"../FieldGroupIcon/FieldGroupIconButton.js";import{ComponentClassNames as l}from"../shared/constants.js";import"../View/View.js";import{IconSearch as t}from"../Icon/icons/IconSearch.js";import{SearchFieldButton as i}from"./SearchFieldButton.js";import{TextField as s}from"../TextField/TextField.js";import{useSearchField as m}from"./useSearchField.js";import{strHasLength as c}from"../shared/utils.js";const d=a.forwardRef(((d,u)=>{var{autoComplete:p="off",className:f,isDisabled:h,clearButtonLabel:C,labelHidden:b=!0,name:F="q",hasSearchButton:j=!0,hasSearchIcon:S=!1,onChange:B,onClear:v,onSubmit:E,searchButtonRef:I,size:g,defaultValue:D,value:V}=d,w=e(d,["autoComplete","className","isDisabled","clearButtonLabel","labelHidden","name","hasSearchButton","hasSearchIcon","onChange","onClear","onSubmit","searchButtonRef","size","defaultValue","value"]);const{composedValue:x,onClearHandler:z,onKeyDown:R,onClick:k,handleOnChange:G,composedRefs:H}=m({defaultValue:D,value:V,onChange:B,onClear:v,onSubmit:E,externalRef:u}),N=j?a.createElement(i,{isDisabled:h,onClick:k,ref:I,size:g}):void 0,y=S?a.createElement(r,null,a.createElement(t,null)):void 0;return a.createElement(s,Object.assign({autoComplete:p,className:o(l.SearchField,f),labelHidden:b,innerStartComponent:y,innerEndComponent:a.createElement(n,{ariaLabel:C,excludeFromTabOrder:!0,isVisible:c(x),onClick:z,size:g,variation:"link"}),isDisabled:h,isMultiline:!1,name:F,onChange:G,onKeyDown:R,outerEndComponent:N,ref:H,size:g,value:x},w))}));d.displayName="SearchField";export{d as SearchField};
